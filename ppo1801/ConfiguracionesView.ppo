#line 91 "\fwh1801\include\FiveWin.Ch"
         EXTERNAL FW_GT
















extern errorsys









































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































static aFwStack      := {}
#line 8 ".\Prg\Views\Dialogs\ConfiguracionesView.prg"
_HB_CLASS ConfiguracionesView ; function ConfiguracionesView ( ... ) ; STATIC s_oClass ; LOCAL nScope, oClass, oInstance ; IF s_oClass == NIL .AND. __clsLockDef( @s_oClass ) ; BEGIN SEQUENCE ; nScope := 1 ; ( ( nScope ) ) ; oClass := iif( .F.,, HBClass():new( "ConfiguracionesView", iif( .T., { @SQLBaseView() }, { @HBObject() } ), @ConfiguracionesView() ) ) ;

   _HB_MEMBER { oBrw } ; oClass:AddMultiData(,, nScope + iif( .F., 16, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ), {"oBrw"}, .F. )

   _HB_MEMBER { oCol } ; oClass:AddMultiData(,, nScope + iif( .F., 16, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ), {"oCol"}, .F. )

   _HB_MEMBER { oDialog } ; oClass:AddMultiData(,, nScope + iif( .F., 16, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ), {"oDialog"}, .F. )

   _HB_MEMBER { aItemSelected } ; oClass:AddMultiData(,, nScope + iif( .F., 16, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ), {"aItemSelected"}, .F. )

   _HB_MEMBER { comboDocumentCounter } ; oClass:AddMultiData(,, nScope + iif( .F., 16, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ), {"comboDocumentCounter"}, .F. )

   _HB_MEMBER { getDocumentCounter } ; oClass:AddMultiData(,, nScope + iif( .F., 16, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ), {"getDocumentCounter"}, .F. )

   _HB_MEMBER { hFormatoColumnas } ; oClass:AddMultiData(,, nScope + iif( .F., 16, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ), {"hFormatoColumnas"}, .F. )

   _HB_MEMBER { aItems } ; oClass:AddMultiData(, {}, nScope + iif( .F., 16, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ), {"aItems"}, .F. )

   _HB_MEMBER New( oController); oClass:AddMethod( "New", @ConfiguracionesView_New(), nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER changeDocumentCounter(); oClass:AddInline( "changeDocumentCounter", {|Self | ( ( Self ) ), ( .T. ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER Activate(); oClass:AddMethod( "Activate", @ConfiguracionesView_Activate(), nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER StartActivate(); oClass:AddMethod( "StartActivate", @ConfiguracionesView_StartActivate(), nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER ChangeBrowse(); oClass:AddMethod( "ChangeBrowse", @ConfiguracionesView_ChangeBrowse(), nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER setItems(); oClass:AddInline( "setItems", {|Self, aItems | ( ( Self ) ), ( ::aItems := aItems ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER getItems(); oClass:AddInline( "getItems", {|Self | ( ( Self ) ), ( ::aItems ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER setColType(); oClass:AddInline( "setColType", {|Self, uValue | ( ( Self ) ), ( ::oCol:nEditType := uValue ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER setColPicture(); oClass:AddInline( "setColPicture", {|Self, uValue | ( ( Self ) ), ( ::oCol:cEditPicture := uValue ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER setColListTxt(); oClass:AddInline( "setColListTxt", {|Self, aValue | ( ( Self ) ), ( ::oCol:aEditListTxt := aValue ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

oClass:Create() ; ; ALWAYS ; __clsUnlockDef( @s_oClass, oClass ) ; end ; oInstance := oClass:Instance() ; IF __objHasMsg( oInstance, "InitClass" ) ; oInstance:InitClass( ... ) ; END ; RETURN oInstance ; END ; RETURN s_oClass:Instance() AS CLASS ConfiguracionesView ;



static FUNCTION ConfiguracionesView_New( oController ) ; local Self AS CLASS ConfiguracionesView := QSelf() AS CLASS ConfiguracionesView

   ::oController        := oController












   ::hFormatoColumnas   := {  "C"   => {||   ::setColType( 1 ) , ::setColPicture( "" ) } , "N"   => {||   ::setColType( 1 ) , ::setColPicture( "999999999" ) } , "D"   => {||   ::setColType( 1 ) , ::setColPicture( "@DT" ) } , "L"   => {||   ::setColType( 2 ), ::setColListTxt( { "si", "no" } ), ::setColPicture( "" ) }, "B"   => {||   ::setColType( 2 ), ::setColListTxt( hGet( ::oBrw:aArrayData[ ::oBrw:nArrayAt ], "lista" ) ), ::setColPicture( "" ) } }

RETURN ( Self )



static FUNCTION ConfiguracionesView_Activate( ) ; local Self AS CLASS ConfiguracionesView := QSelf() AS CLASS ConfiguracionesView

   local oBmp
   local oBtnAceptar



   ::oDialog = TDialog():New(,,,, "Configuraciones", "CONFIGURACIONES",, .F.,,,,,, .F.,,,,,, .F.,, "::oDialog", nil, )





      oBmp := TBitmap():ReDefine( 500, "gc_wrench_48",, ::oDialog,,, .F., .F.,,, .F.,,, .T. )

      ::oBrw                  := IXBrowse():New( ::oDialog )

      ::oBrw:bClrSel          := {|| { 0, ( 229 + ( 229 * 256 ) + ( 229 * 65536 ) ) } }
      ::oBrw:bClrSelFocus     := {|| { 0, ( 167 + ( 205 * 256 ) + ( 240 * 65536 ) ) } }

      ::oBrw:SetArray( ::getItems(), , , .F. )

      ::oBrw:nMarqueeStyle    := 3
      ::oBrw:lRecordSelector  := .F.
      ::oBrw:lHScroll         := .F.
      ::oBrw:lFastEdit        := .T.

      ::oBrw:bChange          := {|| ::ChangeBrowse() }

      ::oBrw:CreateFromResource( 100 )

      with object ( ::oBrw:AddCol() )
         :cHeader             := "Propiedad"
         :bStrData            := {|| capitalize( hget( ::oBrw:aArrayData[ ::oBrw:nArrayAt ], "clave" ) ) }
         :nWidth              := 250
      end

      ::oCol                  := ::oBrw:AddCol()
      ::oCol:cHeader          := "Valor"
      ::oCol:bEditValue       := {|| hGet( ::oBrw:aArrayData[ ::oBrw:nArrayAt ], "valor" ) }
      ::oCol:bStrData         := {|| hGet( ::oBrw:aArrayData[ ::oBrw:nArrayAt ], "valor" ) }
      ::oCol:nWidth           := 300




   oBtnAceptar := TButton():ReDefine( 1, {||( ::oDialog:End( 1 ) )}, ::oDialog,,, .F.,,,, .F. )





   TButton():ReDefine( 2, {||( ::oDialog:End( 2 ) )}, ::oDialog,,, .F.,,,, .T. )

      ::oDialog:AddFastKey( 116, {|| oBtnAceptar:Click() } )

      ::oDialog:bStart        := {|| ::ChangeBrowse() }

   ::oDialog:Activate( ::oDialog:bLClicked, ::oDialog:bMoved, ::oDialog:bPainted, .T.,,,, ::oDialog:bRClicked,,, )

   oBmp:End()

RETURN ( ::oDialog:nResult == 1 )



static FUNCTION ConfiguracionesView_StartActivate( ) ; local Self AS CLASS ConfiguracionesView := QSelf() AS CLASS ConfiguracionesView

RETURN ( self )



static FUNCTION ConfiguracionesView_ChangeBrowse( ) ; local Self AS CLASS ConfiguracionesView := QSelf() AS CLASS ConfiguracionesView

   eval( hget( ::hFormatoColumnas, hget( ::oBrw:aArrayData[ ::oBrw:nArrayAt ], "tipo" ) ) )

   ::oCol:bOnPostEdit            := {|o,x,n| hset( ::oBrw:aArrayData[ ::oBrw:nArrayAt ], "valor", x ) }

RETURN ( self )
