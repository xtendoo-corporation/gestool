#line 91 "\fwh1801\include\FiveWin.Ch"
         EXTERNAL FW_GT
















extern errorsys









































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































static aFwStack      := {}
#line 4 ".\Prg\tablet\view\terceros\CustomerViewSearchNavigator.prg"
_HB_CLASS CustomerViewSearchNavigator ; function CustomerViewSearchNavigator ( ... ) ; STATIC s_oClass ; LOCAL nScope, oClass, oInstance ; IF s_oClass == NIL .AND. __clsLockDef( @s_oClass ) ; BEGIN SEQUENCE ; nScope := 1 ; ( ( nScope ) ) ; oClass := iif( .F.,, HBClass():new( "CustomerViewSearchNavigator", iif( .T., { @ViewSearchNavigator() }, { @HBObject() } ), @CustomerViewSearchNavigator() ) ) ;




   _HB_MEMBER setItemsBusqueda(); oClass:AddInline( "setItemsBusqueda", {|Self | ( ( Self ) ), ( ::hashItemsSearch := {  "Establecimiento" => "NbrEst", "Nombre" => "Titulo", "Código" => "Cod", "Población" => "Poblacion" } ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER setColumns(); oClass:AddMethod( "setColumns", @CustomerViewSearchNavigator_setColumns(), nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER botonesAcciones(); oClass:AddMethod( "botonesAcciones", @CustomerViewSearchNavigator_botonesAcciones(), nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

oClass:Create() ; ; ALWAYS ; __clsUnlockDef( @s_oClass, oClass ) ; end ; oInstance := oClass:Instance() ; IF __objHasMsg( oInstance, "InitClass" ) ; oInstance:InitClass( ... ) ; END ; RETURN oInstance ; END ; RETURN s_oClass:Instance() AS CLASS CustomerViewSearchNavigator ;



static FUNCTION CustomerViewSearchNavigator_botonesAcciones( ) ; local Self AS CLASS CustomerViewSearchNavigator := QSelf() AS CLASS CustomerViewSearchNavigator







   TGridImage():Build(  {  "nTop"      => 75, "nLeft"     => {|| GridWidth( 0.5, ::oDlg ) }, "nWidth"    => 64, "nHeight"   => 64, "cResName"  => "gc_plus_64", "bLClicked" => {|| if( ::oSender:Append(), ::refreshBrowse(), ) }, "oWnd"      => ::oDlg } )

   if ( nAnd( Auth():Level( "clientes" ), 4 ) <> 0 )







   TGridImage():Build(  {  "nTop"      => 75, "nLeft"     => {|| GridWidth( 2, ::oDlg ) }, "nWidth"    => 64, "nHeight"   => 64, "cResName"  => "gc_pencil_64", "bLClicked" => {|| if( ::oSender:Edit(), ::refreshBrowse(), ) }, "oWnd"      => ::oDlg } )

   else







   TGridImage():Build(  {  "nTop"      => 75, "nLeft"     => {|| GridWidth( 2, ::oDlg ) }, "nWidth"    => 64, "nHeight"   => 64, "cResName"  => "gc_binocular_64", "bLClicked" => {|| if( ::oSender:Zoom(), ::refreshBrowse(), ) }, "oWnd"      => ::oDlg } )

   end







   TGridImage():Build(  {  "nTop"      => 75, "nLeft"     => {|| GridWidth( 3.5, ::oDlg ) }, "nWidth"    => 64, "nHeight"   => 64, "cResName"  => "gc_speech_balloon_answer_64", "bLClicked" => {|| ::oSender:showIncidencia() }, "oWnd"      => ::oDlg } )

Return ( self )



static FUNCTION CustomerViewSearchNavigator_setColumns( ) ; local Self AS CLASS CustomerViewSearchNavigator := QSelf() AS CLASS CustomerViewSearchNavigator

   ::setBrowseConfigurationName( "grid_clientes" )

   with object ( ::addColumn() )
      :cHeader           := "Cliente"
      :bEditValue        := {|| ( D():ClientesId( ::getView() ) + Chr(13)+Chr(10) + D():ClientesNombre( ::getView() ) )  }
      :nWidth            := 420
   end

   with object ( ::addColumn() )
      :cHeader           := "Dirección/Tlf."
      :bEditValue        := {|| ( D():Clientes( ::getView() ) )->Domicilio + Chr(13)+Chr(10) + ( D():Clientes( ::getView() ) )->Telefono }
      :nWidth            := 420
   end

   with object ( ::addColumn() )
      :cHeader           := "Población/Código postal"
      :bEditValue        := {|| ( D():Clientes( ::getView() ) )->Poblacion + Chr(13)+Chr(10) + ( D():Clientes( ::getView() ) )->CodPostal }
      :nWidth            := 420
   end

   with object ( ::addColumn() )
      :cHeader           := "Establecimiento/Contacto"
      :bEditValue        := {|| ( D():Clientes( ::getView() ) )->NbrEst + Chr(13)+Chr(10) + ( D():Clientes( ::getView() ) )->cPerCto }
      :nWidth            := 420
   end

Return ( self )
