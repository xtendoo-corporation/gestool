#line 91 "\fwh1801\include\FiveWin.Ch"
         EXTERNAL FW_GT
















extern errorsys









































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































static aFwStack      := {}
#line 5 ".\Prg\tablet\view\documentos\DocumentSalesViewEdit.prg"
_HB_CLASS DocumentSalesViewEdit ; function DocumentSalesViewEdit ( ... ) ; STATIC s_oClass ; LOCAL nScope, oClass, oInstance ; IF s_oClass == NIL .AND. __clsLockDef( @s_oClass ) ; BEGIN SEQUENCE ; nScope := 1 ; ( ( nScope ) ) ; oClass := iif( .F.,, HBClass():new( "DocumentSalesViewEdit", iif( .T., { @ViewEdit() }, { @HBObject() } ), @DocumentSalesViewEdit() ) ) ;

   _HB_MEMBER New(); oClass:AddMethod( "New", @DocumentSalesViewEdit_New(), nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER insertControls(); oClass:AddMethod( "insertControls", @DocumentSalesViewEdit_insertControls(), nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER onclickClientEdit(); oClass:AddInline( "onclickClientEdit", {|Self | ( ( Self ) ), ( ::oSender:onclickClientEdit() ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER onclickClientSales(); oClass:AddInline( "onclickClientSales", {|Self | ( ( Self ) ), ( ::oSender:onclickClientSales() ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER columnsBrowseLineas(); oClass:AddMethod( "columnsBrowseLineas", @DocumentSalesViewEdit_columnsBrowseLineas(), nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER getDocumentLines(); oClass:AddInline( "getDocumentLines", {|Self | ( ( Self ) ), ( ::oSender:oDocumentLines:aLines[ ::oBrowse:nArrayAt ] ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

oClass:Create() ; ; ALWAYS ; __clsUnlockDef( @s_oClass, oClass ) ; end ; oInstance := oClass:Instance() ; IF __objHasMsg( oInstance, "InitClass" ) ; oInstance:InitClass( ... ) ; END ; RETURN oInstance ; END ; RETURN s_oClass:Instance() AS CLASS DocumentSalesViewEdit ;



static FUNCTION DocumentSalesViewEdit_New( oSender ) ; local Self AS CLASS DocumentSalesViewEdit := QSelf() AS CLASS DocumentSalesViewEdit

   ::oSender   := oSender

Return ( self )



static FUNCTION DocumentSalesViewEdit_insertControls( ) ; local Self AS CLASS DocumentSalesViewEdit := QSelf() AS CLASS DocumentSalesViewEdit

   ::defineSerie()

   ::defineRuta()

   ::defineCliente()



   ::defineEstablecimiento()

   ::defineBrowseLineas()

   ::columnsBrowseLineas()

   ::gotopBrowseLineas()

Return ( self )



static FUNCTION DocumentSalesViewEdit_columnsBrowseLineas( ) ; local Self AS CLASS DocumentSalesViewEdit := QSelf() AS CLASS DocumentSalesViewEdit

   ::setBrowseConfigurationName( "grid_browselineas" )

   with object ( ::oBrowse:AddCol() )
      :cHeader                := "Código"
      :bEditValue             := {|| ::getDocumentLines():getProductId() }
      :nWidth                 := 100
   end

   with object ( ::oBrowse:AddCol() )
      :cHeader                := "Descripción"
      :bEditValue             := {|| ::getDocumentLines():getDescription() }
      :bFooter                := {|| "Total..." }
      :nWidth                 := 310
   end

   with object ( ::oBrowse:AddCol() )
      :cHeader                := "Caj"
      :bEditValue             := {|| ::getDocumentLines():getCajas() }
      :cEditPicture           := MasUnd()
      :nWidth                 := 60
      :nDataStrAlign          := 1
      :nHeadStrAlign          := 1
      :lHide                  := .T.
      :nFooterType            := 1
   end

   with object ( ::oBrowse:AddCol() )
      :cHeader                := "Und"
      :bEditValue             := {|| ::getDocumentLines():getUnidades() }
      :cEditPicture           := MasUnd()
      :nWidth                 := 60
      :nDataStrAlign          := 1
      :nHeadStrAlign          := 1
      :lHide                  := .T.
      :nFooterType            := 1
   end

   with object ( ::oBrowse:AddCol() )
      :cHeader                := "T.Und"
      :bEditValue             := {|| ::getDocumentLines():getTotalUnits() }
      :cEditPicture           := MasUnd()
      :nWidth                 := 90
      :nDataStrAlign          := 1
      :nHeadStrAlign          := 1
      :nFooterType            := 1
   end

   with object ( ::oBrowse:AddCol() )
      :cHeader                := "Precio"
      :bEditValue             := {|| ::getDocumentLines():getPrecioVenta() }
      :cEditPicture           := cPouDiv()
      :nWidth                 := 90
      :nDataStrAlign          := 1
      :nHeadStrAlign          := 1
   end

   with object ( ::oBrowse:AddCol() )
      :cHeader                := "% Dto."
      :bEditValue             := {|| ::getDocumentLines():getDescuento() }
      :cEditPicture           := "@E 999.99"
      :nWidth                 := 105
      :nDataStrAlign          := 1
      :nHeadStrAlign          := 1
      :lHide                  := .T.
   end

   with object ( ::oBrowse:AddCol() )
      :cHeader                := "% " + cImp()
      :bEditValue             := {|| ::getDocumentLines():getPorcentajeImpuesto() }
      :cEditPicture           := "@E 999.99"
      :nWidth                 := 95
      :nDataStrAlign          := 1
      :nHeadStrAlign          := 1
      :lHide                  := .T.
   end

   with object ( ::oBrowse:AddCol() )
      :cHeader                := "Total"
      :bEditValue             := {|| ::getDocumentLines():getBase() }
      :cEditPicture           := cPouDiv()
      :nWidth                 := 120
      :nDataStrAlign          := 1
      :nHeadStrAlign          := 1
      :nFooterType            := 1
   end

Return ( self )
