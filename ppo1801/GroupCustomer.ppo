#line 91 "\fwh1801\include\FiveWin.Ch"
         EXTERNAL FW_GT
















extern errorsys









































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































static aFwStack      := {}
#line 4 ".\Prg\tablet\presenter\terceros\GroupCustomer.prg"
_HB_CLASS GroupCustomer ; function GroupCustomer ( ... ) ; STATIC s_oClass ; LOCAL nScope, oClass, oInstance ; IF s_oClass == NIL .AND. __clsLockDef( @s_oClass ) ; BEGIN SEQUENCE ; nScope := 1 ; ( ( nScope ) ) ; oClass := iif( .F.,, HBClass():new( "GroupCustomer", iif( .T., { @Editable() }, { @HBObject() } ), @GroupCustomer() ) ) ;

   _HB_MEMBER { oGridGroupCustomer } ; oClass:AddMultiData(,, nScope + iif( .F., 16, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ), {"oGridGroupCustomer"}, .F. )

   _HB_MEMBER New(); oClass:AddMethod( "New", @GroupCustomer_New(), nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER Init( oSender); oClass:AddMethod( "Init", @GroupCustomer_Init(), nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER OpenFiles(); oClass:AddMethod( "OpenFiles", @GroupCustomer_OpenFiles(), nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER CloseFiles(); oClass:AddInline( "CloseFiles", {|Self | ( ( Self ) ), ( D():DeleteView( ::nView ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER setEnviroment(); oClass:AddInline( "setEnviroment", {|Self | ( ( Self ) ), ( ::setDataTable( "GrpCli" ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

oClass:Create() ; ; ALWAYS ; __clsUnlockDef( @s_oClass, oClass ) ; end ; oInstance := oClass:Instance() ; IF __objHasMsg( oInstance, "InitClass" ) ; oInstance:InitClass( ... ) ; END ; RETURN oInstance ; END ; RETURN s_oClass:Instance() AS CLASS GroupCustomer ;



static FUNCTION GroupCustomer_New( ) ; local Self AS CLASS GroupCustomer := QSelf() AS CLASS GroupCustomer

   if ::OpenFiles()
      ::setEnviroment()
   end

Return ( self )



static FUNCTION GroupCustomer_Init( oSender ) ; local Self AS CLASS GroupCustomer := QSelf() AS CLASS GroupCustomer

   ::nView                                   := oSender:nView

   ::oGridGroupCustomer                      := GroupCustomerViewSearchNavigator():New( self )
   ::oGridGroupCustomer:setSelectorMode()
   ::oGridGroupCustomer:setTitleDocumento( "Seleccione grupo de cliente" )
   ::oGridGroupCustomer:setDblClickBrowseGeneral( {|| ::oGridGroupCustomer:endView() } )

   ::setEnviroment()

Return ( self )



static FUNCTION GroupCustomer_OpenFiles( ) ; local Self AS CLASS GroupCustomer := QSelf() AS CLASS GroupCustomer

   local oError
   local oBlock
   local lOpenFiles     := .T.

   oBlock               := ErrorBlock( {| oError | ApoloBreak( oError ) } )
   BEGIN SEQUENCE

      ::nView           := D():CreateView()

      D():GrupoClientes( ::nView )

   RECOVER USING oError

      lOpenFiles        := .F.

      ApoloMsgStop( "Imposible abrir todas las bases de datos" + Chr(13)+Chr(10) + ErrorMessage( oError ) )

   end

   ErrorBlock( oBlock )

   if !lOpenFiles
      ::CloseFiles( "" )
   end

Return ( lOpenFiles )
