#line 91 "\fwh1801\include\FiveWin.Ch"
         EXTERNAL FW_GT
















extern errorsys









































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































static aFwStack      := {}
#line 4 ".\Prg\tablet\presenter\terceros\Impuestos.prg"
_HB_CLASS Impuestos ; function Impuestos ( ... ) ; STATIC s_oClass ; LOCAL nScope, oClass, oInstance ; IF s_oClass == NIL .AND. __clsLockDef( @s_oClass ) ; BEGIN SEQUENCE ; nScope := 1 ; ( ( nScope ) ) ; oClass := iif( .F.,, HBClass():new( "Impuestos", iif( .T., { @Editable() }, { @HBObject() } ), @Impuestos() ) ) ;

   _HB_MEMBER { oGridTipoImpuesto } ; oClass:AddMultiData(,, nScope + iif( .F., 16, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ), {"oGridTipoImpuesto"}, .F. )

   _HB_MEMBER New(); oClass:AddMethod( "New", @Impuestos_New(), nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER Init( oSender); oClass:AddMethod( "Init", @Impuestos_Init(), nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER OpenFiles(); oClass:AddMethod( "OpenFiles", @Impuestos_OpenFiles(), nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER CloseFiles(); oClass:AddInline( "CloseFiles", {|Self | ( ( Self ) ), ( D():DeleteView( ::nView ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER setEnviroment(); oClass:AddInline( "setEnviroment", {|Self | ( ( Self ) ), ( ::setDataTable( "TIva" ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

oClass:Create() ; ; ALWAYS ; __clsUnlockDef( @s_oClass, oClass ) ; end ; oInstance := oClass:Instance() ; IF __objHasMsg( oInstance, "InitClass" ) ; oInstance:InitClass( ... ) ; END ; RETURN oInstance ; END ; RETURN s_oClass:Instance() AS CLASS Impuestos ;



static FUNCTION Impuestos_New( ) ; local Self AS CLASS Impuestos := QSelf() AS CLASS Impuestos

   if ::OpenFiles()
      ::setEnviroment()
   end

Return ( self )



static FUNCTION Impuestos_Init( oSender ) ; local Self AS CLASS Impuestos := QSelf() AS CLASS Impuestos

   ::nView                                   := oSender:nView

   ::oGridTipoImpuesto                       := ImpuestosViewSearchNavigator():New( self )
   ::oGridTipoImpuesto:setSelectorMode()
   ::oGridTipoImpuesto:setTitleDocumento( "Seleccione tipo de impuesto" )
   ::oGridTipoImpuesto:setDblClickBrowseGeneral( {|| ::oGridTipoImpuesto:endView() } )

   ::setEnviroment()

Return ( self )



static FUNCTION Impuestos_OpenFiles( ) ; local Self AS CLASS Impuestos := QSelf() AS CLASS Impuestos

   local oError
   local oBlock
   local lOpenFiles     := .T.

   oBlock               := ErrorBlock( {| oError | ApoloBreak( oError ) } )
   BEGIN SEQUENCE

      ::nView           := D():CreateView()

      D():TiposIva( ::nView )

   RECOVER USING oError

      lOpenFiles        := .F.

      ApoloMsgStop( "Imposible abrir todas las bases de datos" + Chr(13)+Chr(10) + ErrorMessage( oError ) )

   end

   ErrorBlock( oBlock )

   if !lOpenFiles
      ::CloseFiles( "" )
   end

Return ( lOpenFiles )
