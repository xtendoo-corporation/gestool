#line 91 "\fwh1801\include\FiveWin.Ch"
         EXTERNAL FW_GT
















extern errorsys









































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































static aFwStack      := {}
#line 6 ".\Prg\Views\Browsers\MovimientosAlmacenBrowseView.prg"
_HB_CLASS MovimientosAlmacenBrowseView ; function MovimientosAlmacenBrowseView ( ... ) ; STATIC s_oClass ; LOCAL nScope, oClass, oInstance ; IF s_oClass == NIL .AND. __clsLockDef( @s_oClass ) ; BEGIN SEQUENCE ; nScope := 1 ; ( ( nScope ) ) ; oClass := iif( .F.,, HBClass():new( "MovimientosAlmacenBrowseView", iif( .T., { @SQLBrowseView() }, { @HBObject() } ), @MovimientosAlmacenBrowseView() ) ) ;

   _HB_MEMBER addColumns(); oClass:AddMethod( "addColumns", @MovimientosAlmacenBrowseView_addColumns(), nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

oClass:Create() ; ; ALWAYS ; __clsUnlockDef( @s_oClass, oClass ) ; end ; oInstance := oClass:Instance() ; IF __objHasMsg( oInstance, "InitClass" ) ; oInstance:InitClass( ... ) ; END ; RETURN oInstance ; END ; RETURN s_oClass:Instance() AS CLASS MovimientosAlmacenBrowseView ;



static FUNCTION MovimientosAlmacenBrowseView_addColumns( ) ; local Self AS CLASS MovimientosAlmacenBrowseView := QSelf() AS CLASS MovimientosAlmacenBrowseView

   with object ( ::oBrowse:AddCol() )
      :cHeader             := "Estado"
      :nWidth              := 100
      :bEditValue          := {|| if( ::getRowSet():fieldGet( "tipo_movimiento" ) == 4, if( ::getRowSet():fieldGet( "validado" ) == 1, "Validado", "Borrador" ), "" ) }
      :lHide               := .T.
   end

   with object ( ::oBrowse:AddCol() )
      :cSortOrder          := "id"
      :cHeader             := "Id"
      :nWidth              := 80
      :bEditValue          := {|| ::getRowSet():fieldGet( "id" ) }
      :bLClickHeader       := {| row, col, flags, oColumn | ::onClickHeader( oColumn ) }
   end

   with object ( ::oBrowse:AddCol() )
      :cSortOrder          := "uuid"
      :cHeader             := "Uuid"
      :nWidth              := 180
      :bEditValue          := {|| ::getRowSet():fieldGet( "uuid" ) }
      :bLClickHeader       := {| row, col, flags, oColumn | ::onClickHeader( oColumn ) }
      :lHide               := .T.
   end

   with object ( ::oBrowse:AddCol() )
      :cSortOrder          := "numero"
      :cHeader             := "Número"
      :nWidth              := 80
      :bEditValue          := {|| ::getRowSet():fieldGet( "numero" ) }
      :bLClickHeader       := {| row, col, flags, oColumn | ::onClickHeader( oColumn ) }
   end

   with object ( ::oBrowse:AddCol() )
      :cSortOrder          := "nombre_movimiento"
      :Cargo               := .F.
      :cHeader             := "Tipo movimiento"
      :nWidth              := 100
      :bEditValue          := {|| ::getRowSet():fieldGet( "nombre_movimiento" ) }
      :bLClickHeader       := {| row, col, flags, oColumn | ::onClickHeader( oColumn ) }
   end

   with object ( ::oBrowse:AddCol() )
      :cSortOrder          := "fecha_hora"
      :cHeader             := "Fecha"
      :cEditPicture        := "@DT"
      :nWidth              := 140
      :nHeadStrAlign       := 0
      :nDataStrAlign       := 0
      :bEditValue          := {|| ::getRowSet():fieldGet( "fecha_hora" ) }
      :bLClickHeader       := {| row, col, flags, oColumn | ::onClickHeader( oColumn ) }
   end

   with object ( ::oBrowse:AddCol() )
      :cSortOrder          := "usuario"
      :cHeader             := "Usuario"
      :nWidth              := 80
      :lHide               := .T.
      :bEditValue          := {|| ::getRowSet():fieldGet( "usuario" ) }
      :bLClickHeader       := {| row, col, flags, oColumn | ::onClickHeader( oColumn ) }
   end

   with object ( ::oBrowse:AddCol() )
      :cSortOrder          := "almacen_origen"
      :cHeader             := "Almacén origen"
      :nWidth              := 80
      :bEditValue          := {|| ::getRowSet():fieldGet( "almacen_origen" ) }
      :bLClickHeader       := {| row, col, flags, oColumn | ::onClickHeader( oColumn ) }
   end

   with object ( ::oBrowse:AddCol() )
      :cSortOrder          := "almacen_destino"
      :cHeader             := "Almacén destino"
      :nWidth              := 80
      :bEditValue          := {|| ::getRowSet():fieldGet( "almacen_destino" ) }
      :bLClickHeader       := {| row, col, flags, oColumn | ::onClickHeader( oColumn ) }
   end

   with object ( ::oBrowse:AddCol() )
      :cSortOrder          := "divisa"
      :cHeader             := "Divisa"
      :nWidth              := 80
      :lHide               := .T.
      :bEditValue          := {|| ::getRowSet():fieldGet( "divisa" ) }
      :bLClickHeader       := {| row, col, flags, oColumn | ::onClickHeader( oColumn ) }
   end

   with object ( ::oBrowse:AddCol() )
      :cSortOrder          := "total_precio"
      :Cargo               := .F.
      :cHeader             := "Total costo"
      :nWidth              := 120
      :bEditValue          := {|| ::getRowSet():fieldGet( "total_precio" ) }
      :bLClickHeader       := {| row, col, flags, oColumn | ::onClickHeader( oColumn ) }
      :cEditPicture        := cPinDiv()
   end

   with object ( ::oBrowse:AddCol() )
      :cSortOrder          := "total_precio_venta_iva"
      :Cargo               := .F.
      :cHeader             := "Total venta"
      :nWidth              := 120
      :bEditValue          := {|| ::getRowSet():fieldGet( "total_precio_venta_iva" ) }
      :bLClickHeader       := {| row, col, flags, oColumn | ::onClickHeader( oColumn ) }
      :cEditPicture        := cPinDiv()
   end

   with object ( ::oBrowse:AddCol() )
      :cSortOrder          := "comentarios"
      :cHeader             := "Comentarios"
      :nWidth              := 240
      :bEditValue          := {|| ::getRowSet():fieldGet( "comentarios" ) }
      :bLClickHeader       := {| row, col, flags, oColumn | ::onClickHeader( oColumn ) }
   end

   with object ( ::oBrowse:AddCol() )
      :cSortOrder          := "creado"
      :cHeader             := "Creado"
      :cEditPicture        := "@DT"
      :nWidth              := 140
      :nHeadStrAlign       := 0
      :nDataStrAlign       := 0
      :lHide               := .T.
      :bEditValue          := {|| ::getRowSet():fieldGet( "creado" ) }
      :bLClickHeader       := {| row, col, flags, oColumn | ::onClickHeader( oColumn ) }
   end

   with object ( ::oBrowse:AddCol() )
      :cSortOrder          := "modificado"
      :cHeader             := "Modificado"
      :cEditPicture        := "@DT"
      :nWidth              := 140
      :nHeadStrAlign       := 0
      :nDataStrAlign       := 0
      :lHide               := .T.
      :bEditValue          := {|| ::getRowSet():fieldGet( "modificado" ) }
      :bLClickHeader       := {| row, col, flags, oColumn | ::onClickHeader( oColumn ) }
   end

   with object ( ::oBrowse:AddCol() )
      :cSortOrder          := "enviado"
      :cHeader             := "Enviado"
      :cEditPicture        := "@DT"
      :nWidth              := 140
      :nHeadStrAlign       := 0
      :nDataStrAlign       := 0
      :lHide               := .T.
      :bEditValue          := {|| ::getRowSet():fieldGet( "enviado" ) }
      :bLClickHeader       := {| row, col, flags, oColumn | ::onClickHeader( oColumn ) }
   end

RETURN ( self )
