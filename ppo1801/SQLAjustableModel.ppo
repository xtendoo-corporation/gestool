#line 91 "\fwh1801\include\FiveWin.Ch"
         EXTERNAL FW_GT
















extern errorsys









































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































static aFwStack      := {}
#line 6 ".\Prg\Models\SQLAjustableModel.prg"
_HB_CLASS SQLAjustableModel ; function SQLAjustableModel ( ... ) ; STATIC s_oClass ; LOCAL nScope, oClass, oInstance ; IF s_oClass == NIL .AND. __clsLockDef( @s_oClass ) ; BEGIN SEQUENCE ; nScope := 1 ; ( ( nScope ) ) ; oClass := iif( .F.,, HBClass():new( "SQLAjustableModel", iif( .T., { @SQLBaseModel() }, { @HBObject() } ), @SQLAjustableModel() ) ) ;

   _HB_MEMBER { cTableName } ; oClass:AddMultiData(, "ajustables", nScope + iif( .F., 16, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ), {"cTableName"}, .F. )

   _HB_MEMBER { cConstraints } ; oClass:AddMultiData(, "PRIMARY KEY ( id ), UNIQUE KEY ( ajuste_uuid, ajustable_tipo, ajustable_uuid )", nScope + iif( .F., 16, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ), {"cConstraints"}, .F. )

   _HB_MEMBER getColumns(); oClass:AddMethod( "getColumns", @SQLAjustableModel_getColumns(), nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER set( cAjusteUuid, uAjusteValue, cAjustableTipo, cAjustableUuid); oClass:AddMethod( "set", @SQLAjustableModel_set(), nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER setValue( cAjusteUuid, uAjusteValue, cAjustableTipo, cAjustableUuid); oClass:AddMethod( "setValue", @SQLAjustableModel_setValue(), nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER setLogic( cAjusteUuid, lAjusteValue, cAjustableTipo, cAjustableUuid); oClass:AddMethod( "setLogic", @SQLAjustableModel_setLogic(), nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER setUsuarioCajaExclusiva(); oClass:AddInline( "setUsuarioCajaExclusiva", {|Self, uAjusteValue, cAjustableUuid | ( ( Self ) ), ( ::setValue( "caja_exclusiva", uAjusteValue, "usuarios", cAjustableUuid ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER setUsuarioPcEnUso(); oClass:AddInline( "setUsuarioPcEnUso", {|Self, uAjusteValue, cAjustableUuid | ( ( Self ) ), ( ::setValue( "pc_en_uso", uAjusteValue, "usuarios", cAjustableUuid ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER setUsuarioEmpresaEnUso(); oClass:AddInline( "setUsuarioEmpresaEnUso", {|Self, uAjusteValue, cAjustableUuid | ( ( Self ) ), ( ::setValue( "empresa_en_uso", uAjusteValue, "usuarios", cAjustableUuid ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER setUsuarioEmpresaExclusiva(); oClass:AddInline( "setUsuarioEmpresaExclusiva", {|Self, uAjusteValue, cAjustableUuid | ( ( Self ) ), ( ::setValue( "empresa_exclusiva", uAjusteValue, "usuarios", cAjustableUuid ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER setUsuarioAlmacenExclusivo(); oClass:AddInline( "setUsuarioAlmacenExclusivo", {|Self, uAjusteValue, cAjustableUuid | ( ( Self ) ), ( ::setValue( "almacen_exclusivo", uAjusteValue, "usuarios", cAjustableUuid ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER setUsuarioDelegacionExclusiva(); oClass:AddInline( "setUsuarioDelegacionExclusiva", {|Self, uAjusteValue, cAjustableUuid | ( ( Self ) ), ( ::setValue( "delegacion_exclusiva", uAjusteValue, "usuarios", cAjustableUuid ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER setRolMostrarRentabilidad(); oClass:AddInline( "setRolMostrarRentabilidad", {|Self, uAjusteValue, cAjustableUuid | ( ( Self ) ), ( ::setLogic( "mostrar_rentabilidad", uAjusteValue, "roles", cAjustableUuid ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER setRolCambiarPrecios(); oClass:AddInline( "setRolCambiarPrecios", {|Self, uAjusteValue, cAjustableUuid | ( ( Self ) ), ( ::setLogic( "cambiar_precios", uAjusteValue, "roles", cAjustableUuid ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER setRolVerPreciosCosto(); oClass:AddInline( "setRolVerPreciosCosto", {|Self, uAjusteValue, cAjustableUuid | ( ( Self ) ), ( ::setLogic( "ver_precios_costo", uAjusteValue, "roles", cAjustableUuid ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER setRolConfirmacionEliminacion(); oClass:AddInline( "setRolConfirmacionEliminacion", {|Self, uAjusteValue, cAjustableUuid | ( ( Self ) ), ( ::setLogic( "confirmacion_eliminacion", uAjusteValue, "roles", cAjustableUuid ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER setRolFiltrarVentas(); oClass:AddInline( "setRolFiltrarVentas", {|Self, uAjusteValue, cAjustableUuid | ( ( Self ) ), ( ::setLogic( "fitrar_ventas_por_usuario", uAjusteValue, "roles", cAjustableUuid ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER setRolAbrirCajonPortamonedas(); oClass:AddInline( "setRolAbrirCajonPortamonedas", {|Self, uAjusteValue, cAjustableUuid | ( ( Self ) ), ( ::setLogic( "abrir_cajon_portamonedas", uAjusteValue, "roles", cAjustableUuid ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER setRolCobrarEnTactil(); oClass:AddInline( "setRolCobrarEnTactil", {|Self, uAjusteValue, cAjustableUuid | ( ( Self ) ), ( ::setLogic( "cobrar_en_tactil", uAjusteValue, "roles", cAjustableUuid ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER setRolAlbaranEntregado(); oClass:AddInline( "setRolAlbaranEntregado", {|Self, uAjusteValue, cAjustableUuid | ( ( Self ) ), ( ::setLogic( "albaran_entregado", uAjusteValue, "roles", cAjustableUuid ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER setRolAsistenteGenerarFacturas(); oClass:AddInline( "setRolAsistenteGenerarFacturas", {|Self, uAjusteValue, cAjustableUuid | ( ( Self ) ), ( ::setLogic( "asistente_generar_facturas", uAjusteValue, "roles", cAjustableUuid ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER setRolCambiarEstado(); oClass:AddInline( "setRolCambiarEstado", {|Self, uAjusteValue, cAjustableUuid | ( ( Self ) ), ( ::setLogic( "cambiar_estado", uAjusteValue, "roles", cAjustableUuid ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER setRolCambiarCampos(); oClass:AddInline( "setRolCambiarCampos", {|Self, uAjusteValue, cAjustableUuid | ( ( Self ) ), ( ::setLogic( "cambiar_campos", uAjusteValue, "roles", cAjustableUuid ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER getValue( cUuid, cTipo, cAjuste, uDefault); oClass:AddMethod( "getValue", @SQLAjustableModel_getValue(), nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER getLogic( cUuid, cTipo, cAjuste, lDefault); oClass:AddMethod( "getLogic", @SQLAjustableModel_getLogic(), nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER getUsuarioCajaExclusiva(); oClass:AddInline( "getUsuarioCajaExclusiva", {|Self, cUuid | ( ( Self ) ), ( ::getValue( cUuid, "usuarios", "caja_exclusiva", space( 40 ) ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER getUsuarioPcEnUso(); oClass:AddInline( "getUsuarioPcEnUso", {|Self, cUuid | ( ( Self ) ), ( ::getValue( cUuid, "usuarios", "pc_en_uso", "" ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER getUsuarioEmpresaEnUso(); oClass:AddInline( "getUsuarioEmpresaEnUso", {|Self, cUuid | ( ( Self ) ), ( ::getValue( cUuid, "usuarios", "empresa_en_uso", "" ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER getUsuarioEmpresaExclusiva(); oClass:AddInline( "getUsuarioEmpresaExclusiva", {|Self, cUuid | ( ( Self ) ), ( ::getValue( cUuid, "usuarios", "empresa_exclusiva", space( 40 ) ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER getUsuarioEmpresa( cUuid); oClass:AddMethod( "getUsuarioEmpresa", @SQLAjustableModel_getUsuarioEmpresa(), nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER getUsuarioAlmacenExclusivo(); oClass:AddInline( "getUsuarioAlmacenExclusivo", {|Self, cUuid | ( ( Self ) ), ( ::getValue( cUuid, "usuarios", "almacen_exclusivo", space( 40 ) ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER getUsuarioDelegacionExclusiva(); oClass:AddInline( "getUsuarioDelegacionExclusiva", {|Self, cUuid | ( ( Self ) ), ( ::getValue( cUuid, "usuarios", "delegacion_exclusiva", space( 40 ) ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER getRolMostrarRentabilidad(); oClass:AddInline( "getRolMostrarRentabilidad", {|Self, cUuid | ( ( Self ) ), ( ::getLogic( cUuid, "roles", "mostrar_rentabilidad", .T. ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER getRolNoMostrarRentabilidad(); oClass:AddInline( "getRolNoMostrarRentabilidad", {|Self, cUuid | ( ( Self ) ), ( !::getRolMostrarRentabilidad( cUuid ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER getRolCambiarPrecios(); oClass:AddInline( "getRolCambiarPrecios", {|Self, cUuid | ( ( Self ) ), ( ::getLogic( cUuid, "roles", "cambiar_precios", .T. ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER getRolNoCambiarPrecios(); oClass:AddInline( "getRolNoCambiarPrecios", {|Self, cUuid | ( ( Self ) ), ( !::getRolCambiarPrecios( cUuid ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER getRolVerPreciosCosto(); oClass:AddInline( "getRolVerPreciosCosto", {|Self, cUuid | ( ( Self ) ), ( ::getLogic( cUuid, "roles", "ver_precios_costo", .T. ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER getRolNoVerPreciosCosto(); oClass:AddInline( "getRolNoVerPreciosCosto", {|Self, cUuid | ( ( Self ) ), ( !::getRolVerPreciosCosto( cUuid ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER getRolConfirmacionEliminacion(); oClass:AddInline( "getRolConfirmacionEliminacion", {|Self, cUuid | ( ( Self ) ), ( ::getLogic( cUuid, "roles", "confirmacion_eliminacion", .T. ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER getRolNoConfirmacionEliminacion(); oClass:AddInline( "getRolNoConfirmacionEliminacion", {|Self, cUuid | ( ( Self ) ), ( !::getRolConfirmacionEliminacion( cUuid ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER getRolFiltrarVentas(); oClass:AddInline( "getRolFiltrarVentas", {|Self, cUuid | ( ( Self ) ), ( ::getLogic( cUuid, "roles", "fitrar_ventas_por_usuario", .T. ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER getRolNoFiltrarVentas(); oClass:AddInline( "getRolNoFiltrarVentas", {|Self, cUuid | ( ( Self ) ), ( !::getRolFiltrarVentas( cUuid ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER getRolAbrirCajonPortamonedas(); oClass:AddInline( "getRolAbrirCajonPortamonedas", {|Self, cUuid | ( ( Self ) ), ( ::getLogic( cUuid, "roles", "abrir_cajon_portamonedas", .T. ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER getRolCobrarEnTactil(); oClass:AddInline( "getRolCobrarEnTactil", {|Self, cUuid | ( ( Self ) ), ( ::getLogic( cUuid, "roles", "cobrar_en_tactil", .T. ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER setEmpresaSeleccionarUsuarios(); oClass:AddInline( "setEmpresaSeleccionarUsuarios", {|Self, uAjusteValue, cAjustableUuid | ( ( Self ) ), ( ::setLogic( "seleccionar_usuarios", uAjusteValue, "empresas", cAjustableUuid ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER getEmpresaSeleccionarUsuarios(); oClass:AddInline( "getEmpresaSeleccionarUsuarios", {|Self, cUuid | ( ( Self ) ), ( ::getLogic( cUuid, "empresas", "seleccionar_usuarios", .F. ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER getRolAlbaranEntregado(); oClass:AddInline( "getRolAlbaranEntregado", {|Self, cUuid | ( ( Self ) ), ( ::getLogic( cUuid, "roles", "albaran_entregado", .T. ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER getRolNoAlbaranEntregado(); oClass:AddInline( "getRolNoAlbaranEntregado", {|Self, cUuid | ( ( Self ) ), ( !::getRolAlbaranEntregado( cUuid ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER getRolAsistenteGenerarFacturas(); oClass:AddInline( "getRolAsistenteGenerarFacturas", {|Self, cUuid | ( ( Self ) ), ( ::getLogic( cUuid, "roles", "asistente_generar_facturas", .T. ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER getRolNoAsistenteGenerarFacturas(); oClass:AddInline( "getRolNoAsistenteGenerarFacturas", {|Self, cUuid | ( ( Self ) ), ( !::getRolAsistenteGenerarFacturas( cUuid ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER getRolCambiarEstado(); oClass:AddInline( "getRolCambiarEstado", {|Self, cUuid | ( ( Self ) ), ( ::getLogic( cUuid, "roles", "cambiar_estado", .T. ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER getRolNoCambiarEstado(); oClass:AddInline( "getRolNoCambiarEstado", {|Self, cUuid | ( ( Self ) ), ( !::getRolCambiarEstado( cUuid ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER getRolCambiarCampos(); oClass:AddInline( "getRolCambiarCampos", {|Self, cUuid | ( ( Self ) ), ( ::getLogic( cUuid, "roles", "cambiar_campos", .T. ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER getRolNoCambiarCampos(); oClass:AddInline( "getRolNoCambiarCampos", {|Self, cUuid | ( ( Self ) ), ( !::getRolCambiarCampos( cUuid ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )



   _HB_MEMBER setEmpresaDelegacionDefecto(); oClass:AddInline( "setEmpresaDelegacionDefecto", {|Self, uAjusteValue, cAjustableUuid | ( ( Self ) ), ( ::setValue( "delegacion_defecto", uAjusteValue, "empresas", cAjustableUuid ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER getEmpresaDelegacionDefecto(); oClass:AddInline( "getEmpresaDelegacionDefecto", {|Self, cUuid | ( ( Self ) ), ( ::getValue( cUuid, "empresas", "delegacion_defecto", space( 40 ) ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

oClass:Create() ; ; ALWAYS ; __clsUnlockDef( @s_oClass, oClass ) ; end ; oInstance := oClass:Instance() ; IF __objHasMsg( oInstance, "InitClass" ) ; oInstance:InitClass( ... ) ; END ; RETURN oInstance ; END ; RETURN s_oClass:Instance() AS CLASS SQLAjustableModel ;



static FUNCTION SQLAjustableModel_getColumns( ) ; local Self AS CLASS SQLAjustableModel := QSelf() AS CLASS SQLAjustableModel


   hset( ::hColumns, "id",             {  "create"    => "INTEGER AUTO_INCREMENT"                  , "default"   => {|| 0 } }                                 )


   hset( ::hColumns, "uuid",           {  "create"    => "VARCHAR( 40 ) NOT NULL"                  , "default"   => {|| win_uuidcreatestring() } }            )


   hset( ::hColumns, "ajuste_uuid",    {  "create"    => "VARCHAR( 40 ) NOT NULL"                  , "default"   => {|| space( 40 ) } }                       )


   hset( ::hColumns, "ajuste_valor",   {  "create"    => "VARCHAR( 100 )"                          , "default"   => {|| space( 40 ) } }                       )


   hset( ::hColumns, "ajustable_tipo", {  "create"    => "VARCHAR ( 100 ) NOT NULL"                , "default"   => {|| space( 100 ) } }                      )


   hset( ::hColumns, "ajustable_uuid", {  "create"    => "VARCHAR( 40 ) NOT NULL"                  , "default"   => {|| space( 40 ) } }                       )

RETURN ( ::hColumns )



static FUNCTION SQLAjustableModel_set( cAjusteUuid, uAjusteValue, cAjustableTipo, cAjustableUuid ) ; local Self AS CLASS SQLAjustableModel := QSelf() AS CLASS SQLAjustableModel

   local hBuffer  := ::loadBlankBuffer()

   hset( hBuffer, "ajuste_uuid", cAjusteUuid )
   hset( hBuffer, "ajuste_valor", uAjusteValue )
   hset( hBuffer, "ajustable_tipo", cAjustableTipo )
   hset( hBuffer, "ajustable_uuid", cAjustableUuid )

RETURN ( ::insertOnDuplicate( hBuffer, .T. ) )



static FUNCTION SQLAjustableModel_setValue( cAjusteDescripcion, uAjusteValue, cAjustableTipo, cAjustableUuid ) ; local Self AS CLASS SQLAjustableModel := QSelf() AS CLASS SQLAjustableModel

   local cAjusteUuid

   if empty( cAjusteDescripcion ) .OR. empty( cAjustableTipo ) .OR. empty( cAjustableUuid )
      RETURN ( nil )
   endif

   cAjusteUuid       := SQLAjustesModel():getAjusteUuid( cAjusteDescripcion )

   if empty( cAjusteUuid )
      RETURN ( nil )
   endif

RETURN ( ::set( cAjusteUuid, uAjusteValue, cAjustableTipo, cAjustableUuid ) )



static FUNCTION SQLAjustableModel_setLogic( cAjusteDescripcion, lAjusteValue, cAjustableTipo, cAjustableUuid ) ; local Self AS CLASS SQLAjustableModel := QSelf() AS CLASS SQLAjustableModel

   local uAjusteValue
   local cAjusteUuid    := SQLAjustesModel():getAjusteUuid( cAjusteDescripcion )

   if empty( cAjusteUuid )
      RETURN ( nil )
   endif

   uAjusteValue         := if( lAjusteValue, "1", "0" )

RETURN ( ::set( cAjusteUuid, uAjusteValue, cAjustableTipo, cAjustableUuid ) )



static FUNCTION SQLAjustableModel_getValue( cUuid, cTipo, cAjuste, uDefault ) ; local Self AS CLASS SQLAjustableModel := QSelf() AS CLASS SQLAjustableModel

   local uValue
   local cSentence

   if empty( cUuid ) .OR. empty( cTipo ) .OR. empty( cAjuste )
      RETURN ( uDefault )
   end

   cSentence         := "SELECT ajustables.ajuste_valor "
   cSentence         +=    "FROM ajustables AS ajustables "
   cSentence         += "INNER JOIN ajustes AS ajustes ON ajustes.ajuste = " + quoted( cAjuste ) + " "
   cSentence         += "WHERE ajustables.ajuste_uuid = ajustes.uuid "
   cSentence         +=    "AND ajustables.ajustable_tipo = " + quoted( cTipo ) + " "
   cSentence         +=    "AND ajustables.ajustable_uuid = " + quoted( cUuid )

   uValue            := ::getDatabase():getValue( cSentence )

   if hb_ischar( uValue )
      RETURN ( uValue )
   endif

RETURN ( uDefault )



static FUNCTION SQLAjustableModel_getLogic( cUuid, cTipo, cajuste, lDefault ) ; local Self AS CLASS SQLAjustableModel := QSelf() AS CLASS SQLAjustableModel

   local uValue

   uValue   := ::getValue( cUuid, cTipo, cajuste, lDefault )

   if hb_ischar( uValue )
      RETURN ( alltrim( uValue ) == "1" )
   endif

RETURN ( lDefault )



static FUNCTION SQLAjustableModel_getUsuarioEmpresa( cUuid ) ; local Self AS CLASS SQLAjustableModel := QSelf() AS CLASS SQLAjustableModel

   local cCodigoEmpresa := ::getUsuarioEmpresaExclusiva( cUuid )

   if !empty( cCodigoEmpresa )
      RETURN ( cCodigoEmpresa )
   end

RETURN ( ::getUsuarioEmpresaEnUso( cUuid ) )






_HB_CLASS AjustableRepository ; function AjustableRepository ( ... ) ; STATIC s_oClass ; LOCAL nScope, oClass, oInstance ; IF s_oClass == NIL .AND. __clsLockDef( @s_oClass ) ; BEGIN SEQUENCE ; nScope := 1 ; ( ( nScope ) ) ; oClass := iif( .F.,, HBClass():new( "AjustableRepository", iif( .T., { @SQLBaseRepository() }, { @HBObject() } ), @AjustableRepository() ) ) ;

   _HB_MEMBER getTableName(); oClass:AddInline( "getTableName", {|Self | ( ( Self ) ), ( SQLAjustableModel():getTableName() ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

oClass:Create() ; ; ALWAYS ; __clsUnlockDef( @s_oClass, oClass ) ; end ; oInstance := oClass:Instance() ; IF __objHasMsg( oInstance, "InitClass" ) ; oInstance:InitClass( ... ) ; END ; RETURN oInstance ; END ; RETURN s_oClass:Instance() AS CLASS AjustableRepository ;