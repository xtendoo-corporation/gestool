#line 91 "\fwh1801\include\FiveWin.Ch"
         EXTERNAL FW_GT
















extern errorsys









































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































static aFwStack      := {}
#line 8 ".\.\Prg\TSpecialInfoArticulo.prg"
_HB_CLASS TSpecialInfoArticulo ; function TSpecialInfoArticulo ( ... ) ; STATIC s_oClass ; LOCAL nScope, oClass, oInstance ; IF s_oClass == NIL .AND. __clsLockDef( @s_oClass ) ; BEGIN SEQUENCE ; nScope := 1 ; ( ( nScope ) ) ; oClass := iif( .F.,, HBClass():new( "TSpecialInfoArticulo", iif( .F., { }, { @HBObject() } ), @TSpecialInfoArticulo() ) ) ;

   _HB_MEMBER { cCodigoArticulo } ; oClass:AddMultiData(,, nScope + iif( .F., 16, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ), {"cCodigoArticulo"}, .F. )
   _HB_MEMBER { cNombreArticulo } ; oClass:AddMultiData(,, nScope + iif( .F., 16, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ), {"cNombreArticulo"}, .F. )

   _HB_MEMBER New( cCodigoArticulo, cNombreArticulo); oClass:AddMethod( "New", @TSpecialInfoArticulo_New(), nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER Resource(); oClass:AddMethod( "Resource", @TSpecialInfoArticulo_Resource(), nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER isSelectSATFromArticulo(); oClass:AddInline( "isSelectSATFromArticulo", {|Self | ( ( Self ) ), ( TDataCenter():selectSATFromArticulo( ::cCodigoArticulo ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER Run( cCodigoArticulo, cNombreArticulo); oClass:AddMethod( "Run", @TSpecialInfoArticulo_Run(), nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

oClass:Create() ; ; ALWAYS ; __clsUnlockDef( @s_oClass, oClass ) ; end ; oInstance := oClass:Instance() ; IF __objHasMsg( oInstance, "InitClass" ) ; oInstance:InitClass( ... ) ; END ; RETURN oInstance ; END ; RETURN s_oClass:Instance() AS CLASS TSpecialInfoArticulo ;



static FUNCTION TSpecialInfoArticulo_New( cCodigoArticulo, cNombreArticulo ) ; local Self AS CLASS TSpecialInfoArticulo := QSelf() AS CLASS TSpecialInfoArticulo

   ::cCodigoArticulo    := cCodigoArticulo
   ::cNombreArticulo    := cNombreArticulo

Return ( Self )



static FUNCTION TSpecialInfoArticulo_Run( cCodigoArticulo, cNombreArticulo ) ; local Self AS CLASS TSpecialInfoArticulo := QSelf() AS CLASS TSpecialInfoArticulo

   ::New( cCodigoArticulo, cNombreArticulo )

   if ::isSelectSATFromArticulo()
      ::Resource()
   end

Return ( Self )



static FUNCTION TSpecialInfoArticulo_Resource( ) ; local Self AS CLASS TSpecialInfoArticulo := QSelf() AS CLASS TSpecialInfoArticulo

   local oDlg
   local oBmp
   local oBrwArticulo

   oDlg = TDialog():New(,,,, "Información del artículo : " + Rtrim( ::cCodigoArticulo ) + " - " + Rtrim( ::cNombreArticulo ), "Info_5",, .F.,,,,,, .F.,,,,,, .F.,, "oDlg", nil, )

   oBmp := TBitmap():ReDefine( 500, "gc_object_cube_48",, oDlg,,, .F., .F.,,, .F.,,, .T. )

      oBrwArticulo                      := IXBrowse():New( oDlg )

      oBrwArticulo:bClrSel              := {|| { 0, ( 229 + ( 229 * 256 ) + ( 229 * 65536 ) ) } }
      oBrwArticulo:bClrSelFocus         := {|| { 0, ( 167 + ( 205 * 256 ) + ( 240 * 65536 ) ) } }

      oBrwArticulo:cAlias               := "SatCliArticulos"

      oBrwArticulo:nMarqueeStyle        := 6
      oBrwArticulo:cName                := "Máquinas en informe de articulos"

      oBrwArticulo:CreateFromResource( 300 )

      oBrwArticulo:bLDblClick  := {|| EdtSatCli( SatCliArticulos->serieLineaSAT + str( SatCliArticulos->numeroLineaSAT, 9 ) + SatCliArticulos->sufijoLineaSAT ) }

      with object ( oBrwArticulo:addCol() )
         :cHeader          := "Cliente"
         :bEditValue       := {|| SatCliArticulos->clienteNombre }
         :nWidth           := 260
      end

      with object ( oBrwArticulo:addCol() )
         :cHeader          := "Estado"
         :bEditValue       := {|| SatCliArticulos->nombreEstado }
         :nWidth           := 120
      end

      with object ( oBrwArticulo:addCol() )
         :cHeader          := "Operario"
         :bEditValue       := {|| SatCliArticulos->operarioNombre }
         :nWidth           := 120
      end

      with object ( oBrwArticulo:addCol() )
         :cHeader          := "Observaciones"
         :bEditValue       := {|| SatCliArticulos->observacionesLineaSAT }
         :nWidth           := 120
      end

      with object ( oBrwArticulo:addCol() )
         :cHeader          := "Fecha"
         :bEditValue       := {|| SatCliArticulos->fechaSAT }
         :nWidth           := 80
      end

      with object ( oBrwArticulo:addCol() )
         :cHeader          := "Inicio"
         :bEditValue       := {|| trans( SatCliArticulos->horaInicioSAT, "@R 99:99" ) }
         :nWidth           := 40
      end

      with object ( oBrwArticulo:addCol() )
         :cHeader          := "Fin"
         :bEditValue       := {|| trans( SatCliArticulos->horaFinSAT, "@R 99:99" ) }
         :nWidth           := 40
      end

      with object ( oBrwArticulo:addCol() )
         :cHeader          := "Fin"
         :bEditValue       := {|| trans( SatCliArticulos->horaFinSAT, "@R 99:99" ) }
         :nWidth           := 40
      end

      with object ( oBrwArticulo:addCol() )
         :cHeader          := "S.A.T."


         :bEditValue       := {|| iif( !empty( SatCliArticulos->serieLineaSAT ), SatCliArticulos->serieLineaSAT + "/" + alltrim( str( SatCliArticulos->numeroLineaSAT ) ) + "/" + SatCliArticulos->sufijoLineaSAT, "" ) }
         :nWidth           := 150
      end

      with object ( oBrwArticulo:addCol() )
         :cHeader          := "Contador"
         :bEditValue       := {|| if( !Empty( SatCliArticulos->contadorLineaSAT ), Trans( SatCliArticulos->contadorLineaSAT, "999999999999" ), "" ) }
         :nWidth           := 130
         :nDataStrAlign    := 1
         :nHeadStrAlign    := 1
         :lHide            := .T.
      end

      oDlg:bStart     := {|| oBrwArticulo:Load() }

   oDlg:Activate( oDlg:bLClicked, oDlg:bMoved, oDlg:bPainted, .T.,,,, oDlg:bRClicked,,, )

   if !Empty( oBmp )
      oBmp:End()
   end

RETURN ( Self )
