#line 91 "\fwh1801\include\FiveWin.Ch"
         EXTERNAL FW_GT
















extern errorsys









































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































static aFwStack      := {}
#line 4 ".\Prg\tablet\view\ViewNavigator.prg"
_HB_CLASS ViewNavigator ; function ViewNavigator ( ... ) ; STATIC s_oClass ; LOCAL nScope, oClass, oInstance ; IF s_oClass == NIL .AND. __clsLockDef( @s_oClass ) ; BEGIN SEQUENCE ; nScope := 1 ; ( ( nScope ) ) ; oClass := iif( .F.,, HBClass():new( "ViewNavigator", iif( .T., { @ViewBase() }, { @HBObject() } ), @ViewNavigator() ) ) ;

   _HB_MEMBER New(); oClass:AddMethod( "New", @ViewNavigator_New(), nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER Resource(); oClass:AddMethod( "Resource", @ViewNavigator_Resource(), nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER getView(); oClass:AddInline( "getView", {|Self | ( ( Self ) ), ( ::oSender:nView ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER getWorkArea(); oClass:AddInline( "getWorkArea", {|Self | ( ( Self ) ), ( ::oSender:getWorkArea() ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER getWorkArray(); oClass:AddInline( "getWorkArray", {|Self | ( ( Self ) ), ( ::oSender:getDataArray() ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER botonesAcciones(); oClass:AddMethod( "botonesAcciones", @ViewNavigator_botonesAcciones(), nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER botonesMovimientoBrowse(); oClass:AddMethod( "botonesMovimientoBrowse", @ViewNavigator_botonesMovimientoBrowse(), nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER browseGeneral(); oClass:AddMethod( "browseGeneral", @ViewNavigator_browseGeneral(), nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER browseArray( oDlg); oClass:AddMethod( "browseArray", @ViewNavigator_browseArray(), nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER insertControls(); oClass:AddInline( "insertControls", {|Self | ( ( Self ) ), ( ::BrowseGeneral() ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER setColumns() ; oClass:AddVirtual( "setColumns" )
      _HB_MEMBER addColumn(); oClass:AddInline( "addColumn", {|Self | ( ( Self ) ), ( ::oBrowse:addCol() ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )



   _HB_MEMBER refreshBrowse(); oClass:AddInline( "refreshBrowse", {|Self | ( ( Self ) ), ( iif(  !empty( ::oBrowse), ( ::oBrowse:Select( 0 ), ::oBrowse:Select( 1 ), ::oBrowse:Refresh() ), ) ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER { bDblClickBrowseGeneral } ; oClass:AddMultiData(,, nScope + iif( .F., 16, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ), {"bDblClickBrowseGeneral"}, .F. )
   _HB_MEMBER setDblClickBrowseGeneral(); oClass:AddInline( "setDblClickBrowseGeneral", {|Self, block | ( ( Self ) ), ( ::bDblClickBrowseGeneral := block ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )
   _HB_MEMBER getDblClickBrowseGeneral(); oClass:AddInline( "getDblClickBrowseGeneral", {|Self | ( ( Self ) ), ( ::bDblClickBrowseGeneral ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

oClass:Create() ; ; ALWAYS ; __clsUnlockDef( @s_oClass, oClass ) ; end ; oInstance := oClass:Instance() ; IF __objHasMsg( oInstance, "InitClass" ) ; oInstance:InitClass( ... ) ; END ; RETURN oInstance ; END ; RETURN s_oClass:Instance() AS CLASS ViewNavigator ;



static FUNCTION ViewNavigator_New( oSender ) ; local Self AS CLASS ViewNavigator := QSelf() AS CLASS ViewNavigator

   ::oSender               := oSender

Return ( self )



static FUNCTION ViewNavigator_Resource( ) ; local Self AS CLASS ViewNavigator := QSelf() AS CLASS ViewNavigator

   ::oDlg                  := TDialog():New( 1, 5, 40, 100, "gestool TABLET",,, .F., ::Style,, ( 255 + ( 255 * 256 ) + ( 255 * 65536 ) ),,, .F.,, oGridFont(),,,, .F.,, "oDlg" )

   ::defineTitulo()

   ::defineSalir()

   ::BotonesAcciones()

   ::BotonesMovimientoBrowse()

   ::BrowseGeneral()

   ::oDlg:bResized         := {|| ::resizeDialog() }

   ::oDlg:Activate( ,,,.T.,,, {|| ::InitDialog() } )

Return ( self )



static FUNCTION ViewNavigator_botonesAcciones( ) ; local Self AS CLASS ViewNavigator := QSelf() AS CLASS ViewNavigator







   TGridImage():Build(  {  "nTop"      => 75, "nLeft"     => {|| GridWidth( 0.5, ::oDlg ) }, "nWidth"    => 64, "nHeight"   => 64, "cResName"  => "gc_plus_64", "bLClicked" => {|| if( ::oSender:Append(), ::refreshBrowse(), ) }, "oWnd"      => ::oDlg } )

   if ::oSender:lAlowEdit







   TGridImage():Build(  {  "nTop"      => 75, "nLeft"     => {|| GridWidth( 2, ::oDlg ) }, "nWidth"    => 64, "nHeight"   => 64, "cResName"  => "gc_pencil_64", "bLClicked" => {|| if( ::oSender:Edit(), ::refreshBrowse(), ) }, "oWnd"      => ::oDlg } )







   TGridImage():Build(  {  "nTop"      => 75, "nLeft"     => {|| GridWidth( 3.5, ::oDlg ) }, "nWidth"    => 64, "nHeight"   => 64, "cResName"  => "gc_delete_64", "bLClicked" => {|| if( ::oSender:Delete(), ::refreshBrowse(), ) }, "oWnd"      => ::oDlg } )

   else







   TGridImage():Build(  {  "nTop"      => 75, "nLeft"     => {|| GridWidth( 2, ::oDlg ) }, "nWidth"    => 64, "nHeight"   => 64, "cResName"  => "gc_binocular_64", "bLClicked" => {|| if( ::oSender:Zoom(), ::refreshBrowse(), ) }, "oWnd"      => ::oDlg } )

   end

Return ( self )



static FUNCTION ViewNavigator_botonesMovimientoBrowse( ) ; local Self AS CLASS ViewNavigator := QSelf() AS CLASS ViewNavigator







   TGridImage():Build(  {  "nTop"      => 75, "nLeft"     => {|| GridWidth( 7.5, ::oDlg ) }, "nWidth"    => 64, "nHeight"   => 64, "cResName"  => "gc_navigate_up2_64", "bLClicked" => {|| ::oBrowse:GoTop(), ::refreshBrowse()  }, "oWnd"      => ::oDlg } )







   TGridImage():Build(  {  "nTop"      => 75, "nLeft"     => {|| GridWidth( 8.5, ::oDlg ) }, "nWidth"    => 64, "nHeight"   => 64, "cResName"  => "gc_navigate_up_64", "bLClicked" => {|| ::oBrowse:PageUp(), ::refreshBrowse()  }, "oWnd"      => ::oDlg } )







   TGridImage():Build(  {  "nTop"      => 75, "nLeft"     => {|| GridWidth( 9.5, ::oDlg ) }, "nWidth"    => 64, "nHeight"   => 64, "cResName"  => "gc_navigate_down_64", "bLClicked" => {|| ::oBrowse:PageDown(), ::refreshBrowse() }, "oWnd"      => ::oDlg } )







   TGridImage():Build(  {  "nTop"      => 75, "nLeft"     => {|| GridWidth( 10.5, ::oDlg ) }, "nWidth"    => 64, "nHeight"   => 64, "cResName"  => "gc_navigate_down2_64", "bLClicked" => {|| ::oBrowse:GoBottom(), ::refreshBrowse() }, "oWnd"      => ::oDlg } )

Return ( self )



static FUNCTION ViewNavigator_browseGeneral( oDlg ) ; local Self AS CLASS ViewNavigator := QSelf() AS CLASS ViewNavigator

   If( oDlg == nil, oDlg := ::oDlg, ) ;

   ::oBrowse                  := TGridIXBrowse():New( oDlg )

   ::oBrowse:nTop             := ::oBrowse:EvalRow( 115 )
   ::oBrowse:nLeft            := ::oBrowse:EvalCol( {|| GridWidth( 0.5, oDlg ) } )
   ::oBrowse:nWidth           := ::oBrowse:EvalWidth( {|| GridWidth( 11, oDlg ) } )
   ::oBrowse:nHeight          := ::oBrowse:EvalHeight( {|| GridHeigth( oDlg ) - ::oBrowse:nTop - 10 } )
   ::oBrowse:nMarqueeStyle    := 6

   ::oBrowse:nHeaderHeight    := 48
   ::oBrowse:nFooterHeight    := 48
   ::oBrowse:nRowHeight       := 96
   ::oBrowse:nDataLines       := 2

   ::oBrowse:cAlias           := ::getWorkArea()

   ::setColumns()

   ::oBrowse:bLDblClick       := ::getDblClickBrowseGeneral()

   ::oBrowse:CreateFromCode()

Return ( self )



static FUNCTION ViewNavigator_browseArray( oDlg ) ; local Self AS CLASS ViewNavigator := QSelf() AS CLASS ViewNavigator

   If( oDlg == nil, oDlg := ::oDlg, ) ;

   ::oBrowse                  := TGridIXBrowse():New( oDlg )

   ::oBrowse:nTop             := ::oBrowse:EvalRow( 115 )
   ::oBrowse:nLeft            := ::oBrowse:EvalCol( {|| GridWidth( 0.5, oDlg ) } )
   ::oBrowse:nWidth           := ::oBrowse:EvalWidth( {|| GridWidth( 11, oDlg ) } )
   ::oBrowse:nHeight          := ::oBrowse:EvalHeight( {|| GridHeigth( oDlg ) - ::oBrowse:nTop - 10 } )
   ::oBrowse:nMarqueeStyle    := 6

   ::oBrowse:nHeaderHeight    := 48
   ::oBrowse:nFooterHeight    := 48
   ::oBrowse:nRowHeight       := 96
   ::oBrowse:nDataLines       := 2

   ::oBrowse:SetArray( ::getWorkArray(), , , .F. )

   ::setColumns()

   ::oBrowse:bLDblClick       := ::getDblClickBrowseGeneral()

   ::oBrowse:CreateFromCode()

Return ( self )
