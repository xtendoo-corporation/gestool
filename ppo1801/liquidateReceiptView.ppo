#line 91 "\fwh1801\include\FiveWin.Ch"
         EXTERNAL FW_GT
















extern errorsys









































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































static aFwStack      := {}
#line 5 ".\Prg\tablet\view\documentos\ventas\liquidateReceiptView.prg"
_HB_CLASS LiquidateReceiptView ; function LiquidateReceiptView ( ... ) ; STATIC s_oClass ; LOCAL nScope, oClass, oInstance ; IF s_oClass == NIL .AND. __clsLockDef( @s_oClass ) ; BEGIN SEQUENCE ; nScope := 1 ; ( ( nScope ) ) ; oClass := iif( .F.,, HBClass():new( "LiquidateReceiptView", iif( .T., { @ViewBase() }, { @HBObject() } ), @LiquidateReceiptView() ) ) ;

   _HB_MEMBER { nEntrega } ; oClass:AddMultiData(,, nScope + iif( .F., 16, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ), {"nEntrega"}, .F. )
   _HB_MEMBER { nPendiente } ; oClass:AddMultiData(,, nScope + iif( .F., 16, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ), {"nPendiente"}, .F. )
   _HB_MEMBER { nDiferencia } ; oClass:AddMultiData(,, nScope + iif( .F., 16, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ), {"nDiferencia"}, .F. )
   _HB_MEMBER { oEntrega } ; oClass:AddMultiData(,, nScope + iif( .F., 16, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ), {"oEntrega"}, .F. )

   _HB_MEMBER { oDiferencia } ; oClass:AddMultiData(,, nScope + iif( .F., 16, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ), {"oDiferencia"}, .F. )

   _HB_MEMBER New(); oClass:AddMethod( "New", @LiquidateReceiptView_New(), nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER insertControls(); oClass:AddMethod( "insertControls", @LiquidateReceiptView_insertControls(), nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER defineAceptarCancelar(); oClass:AddMethod( "defineAceptarCancelar", @LiquidateReceiptView_defineAceptarCancelar(), nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER getTitleTipoDocumento(); oClass:AddInline( "getTitleTipoDocumento", {|Self | ( ( Self ) ), ( ::getTextoTipoDocumento() ) }, nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

   _HB_MEMBER CalDiferencia(); oClass:AddMethod( "CalDiferencia", @LiquidateReceiptView_CalDiferencia(), nScope + iif( .F., 8, 0 ) + iif( .F., 256, 0 ) + iif( .F., 2048, 0 ) )

oClass:Create() ; ; ALWAYS ; __clsUnlockDef( @s_oClass, oClass ) ; end ; oInstance := oClass:Instance() ; IF __objHasMsg( oInstance, "InitClass" ) ; oInstance:InitClass( ... ) ; END ; RETURN oInstance ; END ; RETURN s_oClass:Instance() AS CLASS LiquidateReceiptView ;



static FUNCTION LiquidateReceiptView_New( oSender ) ; local Self AS CLASS LiquidateReceiptView := QSelf() AS CLASS LiquidateReceiptView

   ::oSender      := oSender

   ::nEntrega     := 0
   ::nPendiente   := ::oSender:nTotalPendiente()
   ::nDiferencia  := ::oSender:nTotalPendiente()

Return ( self )



static FUNCTION LiquidateReceiptView_insertControls( ) ; local Self AS CLASS LiquidateReceiptView := QSelf() AS CLASS LiquidateReceiptView











   TGridSay():Build( {  "nRow"      => 50, "nCol"      => {|| GridWidth( 0.5, ::oDlg ) }, "bText"     => {|| "Total pendiente" }, "oWnd"      => ::oDlg, "oFont"     => oGridFontBold(), "lPixels"   => .T., "nClrText"  => ( 0 + ( 0 * 256 ) + ( 0 * 65536 ) ), "nClrBack"  => ( 255 + ( 255 * 256 ) + ( 255 * 65536 ) ), "nWidth"    => {|| GridWidth( 2, ::oDlg ) }, "nHeight"   => 23, "lDesign"   => .F. } )










   TGridGet():Build( {  "nRow"      => 50, "nCol"      => {|| GridWidth( 3, ::oDlg ) }, "bSetGet"   => {|u| if( PCount() == 0, ::nPendiente, ::nPendiente := u ) }, "oWnd"      => ::oDlg, "lPixels"   => .T., "nWidth"    => {|| GridWidth( 3, ::oDlg ) }, "cPict"     => MasUnd(), "lRight"    => .T., "bWhen"     => {|| .F. }, "nHeight"   => 23 } )











   TGridSay():Build( {  "nRow"      => 80, "nCol"      => {|| GridWidth( 0.5, ::oDlg ) }, "bText"     => {|| "Entrega" }, "oWnd"      => ::oDlg, "oFont"     => oGridFontBold(), "lPixels"   => .T., "nClrText"  => ( 0 + ( 0 * 256 ) + ( 0 * 65536 ) ), "nClrBack"  => ( 255 + ( 255 * 256 ) + ( 255 * 65536 ) ), "nWidth"    => {|| GridWidth( 2, ::oDlg ) }, "nHeight"   => 23, "lDesign"   => .F. } )










   ::oEntrega  := TGridGet():Build( {  "nRow"      => 80, "nCol"      => {|| GridWidth( 3, ::oDlg ) }, "bSetGet"   => {|u| if( PCount() == 0, ::nEntrega, ::nEntrega := u ) }, "oWnd"      => ::oDlg, "nWidth"    => {|| GridWidth( 3, ::oDlg ) }, "nHeight"   => 23, "lRight"    => .T., "cPict"     => MasUnd(), "lPixels"   => .T., "bValid"    => {|| ::CalDiferencia() } } )











   TGridSay():Build( {  "nRow"      => 110, "nCol"      => {|| GridWidth( 0.5, ::oDlg ) }, "bText"     => {|| "Diferencia" }, "oWnd"      => ::oDlg, "oFont"     => oGridFontBold(), "lPixels"   => .T., "nClrText"  => ( 0 + ( 0 * 256 ) + ( 0 * 65536 ) ), "nClrBack"  => ( 255 + ( 255 * 256 ) + ( 255 * 65536 ) ), "nWidth"    => {|| GridWidth( 2, ::oDlg ) }, "nHeight"   => 23, "lDesign"   => .F. } )









   ::oDiferencia    := TGridGet():Build( {   "nRow"      => 110, "nCol"      => {|| GridWidth( 3, ::oDlg ) }, "bSetGet"   => {|u| if( PCount() == 0, ::nDiferencia, ::nDiferencia := u ) }, "oWnd"      => ::oDlg, "lPixels"   => .T., "nWidth"    => {|| GridWidth( 3, ::oDlg ) }, "cPict"     => MasUnd(), "lRight"    => .T., "nHeight"   => 23 } )

Return( Self )



static FUNCTION LiquidateReceiptView_defineAceptarCancelar( ) ; local Self AS CLASS LiquidateReceiptView := QSelf() AS CLASS LiquidateReceiptView







   ::buttonCancel    :=    TGridImage():Build(  {  "nTop"      => 5, "nLeft"     => {|| GridWidth( 9.0, ::oDlg ) }, "nWidth"    => 64, "nHeight"   => 64, "cResName"  => "gc_error_64", "bLClicked" => {|| ::cancelView() }, "oWnd"      => ::oDlg } )







   ::buttonOk        :=    TGridImage():Build(  {  "nTop"      => 5, "nLeft"     => {|| GridWidth( 10.5, ::oDlg ) }, "nWidth"    => 64, "nHeight"   => 64, "cResName"  => "gc_ok_64", "bLClicked" => {|| ::oEntrega:lValid(), ::oSender:ProcessLiquidateReceipt( ::nEntrega ), ::endView() }, "oWnd"      => ::oDlg } )

Return ( self )



static FUNCTION LiquidateReceiptView_CalDiferencia( ) ; local Self AS CLASS LiquidateReceiptView := QSelf() AS CLASS LiquidateReceiptView

   ::nDiferencia     := ::nPendiente - ::nEntrega

   if !Empty( ::oDiferencia )
      ::oDiferencia:Refresh()
   end

Return ( .T. )
